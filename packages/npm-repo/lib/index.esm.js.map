{"version":3,"file":"index.esm.js","sources":["../src/model/chat-crm.model.ts","../src/model/chat.model.ts"],"sourcesContent":["/**\n * Created by Jaron Long on 2020/5/22\n */\nimport { ChatModel } from '.'\nimport { Database } from '@vuex-orm/core'\n\nexport class ChatCrmModel extends ChatModel {\n  static entity = 'chats_crm'\n  static baseEntity = 'chats'\n\n  static fields() {\n    return {\n      ...super.fields(),\n      group: this.number(0)\n    }\n  }\n}\n\nexport const ChatCrmStore = {}\n\nexport function initialize(database: Database) {\n  if (database) {\n    database.register(ChatCrmModel, ChatCrmStore)\n  }\n}\n","/**\n * Created by Jaron Long on 2019/11/19\n */\nimport { Database, Fields, Model } from '@vuex-orm/core'\nimport { ChatCrmModel } from './chat-crm.model'\n\nexport class ChatModel extends Model {\n  static entity = 'chats'\n  static typeKey = '_type'\n\n  static fields(): Fields {\n    return {\n      // chatId or deviceId\n      _type: this.string(null).nullable(),\n      _local: this.boolean(true),\n      id: this.uid(),\n      chatId: this.number(null).nullable(),\n      chatUnionId: this.number(null).nullable(),\n      channel: this.string(null).nullable(),\n      updateTime: this.attr(new Date()),\n      unread: this.number(0)\n    }\n  }\n\n  static types() {\n    return {\n      crm: ChatCrmModel,\n    }\n  }\n}\n\nexport const ChatStore = {}\n\nexport function initialize(database: Database) {\n  if (database) {\n    database.register(ChatModel, ChatStore)\n  }\n}\n"],"names":["ChatCrmModel","ChatModel","[object Object]","super","fields","group","this","number","ChatCrmStore","initialize","database","register","Model","_type","string","nullable","_local","boolean","id","uid","chatId","chatUnionId","channel","updateTime","attr","Date","unread","crm","ChatStore"],"mappings":"mDAMA,MAAaA,UAAqBC,EAIhCC,gBACE,MAAO,IACFC,MAAMC,SACTC,MAAOC,KAAKC,OAAO,KAGzB,OATSP,SAAS,YACTA,aAAa,cAUf,MAAMQ,EAAe,YAEZC,EAAWC,GACrBA,GACFA,EAASC,SAASX,EAAcQ,eChBpC,MAAaP,UAAkBW,EAI7BV,gBACE,MAAO,CAELW,MAAOP,KAAKQ,OAAO,MAAMC,WACzBC,OAAQV,KAAKW,SAAQ,GACrBC,GAAIZ,KAAKa,MACTC,OAAQd,KAAKC,OAAO,MAAMQ,WAC1BM,YAAaf,KAAKC,OAAO,MAAMQ,WAC/BO,QAAShB,KAAKQ,OAAO,MAAMC,WAC3BQ,WAAYjB,KAAKkB,KAAK,IAAIC,MAC1BC,OAAQpB,KAAKC,OAAO,IAIxBL,eACE,MAAO,CACLyB,IAAK3B,IAGX,OAtBSC,SAAS,QACTA,UAAU,cAuBZ,MAAM2B,EAAY,YAETnB,EAAWC,GACrBA,GACFA,EAASC,SAASV,EAAW2B"}