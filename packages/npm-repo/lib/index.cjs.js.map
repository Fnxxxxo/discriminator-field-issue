{"version":3,"file":"index.esm.js","sources":["../src/model/chat-crm.model.ts","../src/model/chat.model.ts"],"sourcesContent":["/**\n * Created by Jaron Long on 2020/5/22\n */\nimport { ChatModel } from '.'\nimport { Database } from '@vuex-orm/core'\n\nexport class ChatCrmModel extends ChatModel {\n  static entity = 'chats_crm'\n  static baseEntity = 'chats'\n\n  static fields() {\n    return {\n      ...super.fields(),\n      group: this.number(0)\n    }\n  }\n}\n\nexport const ChatCrmStore = {}\n\nexport function initialize(database: Database) {\n  if (database) {\n    database.register(ChatCrmModel, ChatCrmStore)\n  }\n}\n","/**\n * Created by Jaron Long on 2019/11/19\n */\nimport { Database, Fields, Model } from '@vuex-orm/core'\nimport { ChatCrmModel } from './chat-crm.model'\n\nexport class ChatModel extends Model {\n  static entity = 'chats'\n  static typeKey = '_type'\n\n  static fields(): Fields {\n    return {\n      // chatId or deviceId\n      _type: this.string(null).nullable(),\n      _local: this.boolean(true),\n      id: this.uid(),\n      chatId: this.number(null).nullable(),\n      chatUnionId: this.number(null).nullable(),\n      channel: this.string(null).nullable(),\n      updateTime: this.attr(new Date()),\n      unread: this.number(0)\n    }\n  }\n\n  static types() {\n    return {\n      crm: ChatCrmModel,\n    }\n  }\n}\n\nexport const ChatStore = {}\n\nexport function initialize(database: Database) {\n  if (database) {\n    database.register(ChatModel, ChatStore)\n  }\n}\n"],"names":["ChatCrmModel","ChatModel","[object Object]","super","fields","group","this","number","ChatCrmStore","Model","_type","string","nullable","_local","boolean","id","uid","chatId","chatUnionId","channel","updateTime","attr","Date","unread","crm","ChatStore","database","register"],"mappings":"gHAMA,MAAaA,UAAqBC,EAIhCC,gBACE,MAAO,IACFC,MAAMC,SACTC,MAAOC,KAAKC,OAAO,KAGzB,OATSP,SAAS,YACTA,aAAa,cAUf,MAAMQ,EAAe,eCZ5B,MAAaP,UAAkBQ,QAI7BP,gBACE,MAAO,CAELQ,MAAOJ,KAAKK,OAAO,MAAMC,WACzBC,OAAQP,KAAKQ,SAAQ,GACrBC,GAAIT,KAAKU,MACTC,OAAQX,KAAKC,OAAO,MAAMK,WAC1BM,YAAaZ,KAAKC,OAAO,MAAMK,WAC/BO,QAASb,KAAKK,OAAO,MAAMC,WAC3BQ,WAAYd,KAAKe,KAAK,IAAIC,MAC1BC,OAAQjB,KAAKC,OAAO,IAIxBL,eACE,MAAO,CACLsB,IAAKxB,IAGX,OAtBSC,SAAS,QACTA,UAAU,cAuBZ,MAAMwB,EAAY,8EAEEC,GACrBA,GACFA,EAASC,SAAS1B,EAAWwB,4CDfNC,GACrBA,GACFA,EAASC,SAAS3B,EAAcQ"}